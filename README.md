# OpenDataMS-docs
> 开放数据管理系统 设计文档

源于老师对开放数据质量的研究，每次手动下载数据压缩包、解压、进行数据质量改进(通过数据操作软件或者脚本)。对于整体流程的繁琐以及重复性，便想出开发设计一款开放数据管理系统来简化老师对开放数据质量的研究，让老师或其他同学可以节省大量的时间去做其他更加有意义的事情。

## 主要功能

- 目标数据的快速采集与管理
- 数据质量改进的统一一函数化处理

由此便设计了以下主要三个模块

- 任务
  - 新建任务
  - 当前任务
  - 任务管理
- 函数
  - 注册函数
  - 函数管理
- 数据
  - 数据管理
  - 数据清洗
  - 清洗日志

### 任务

任务是指数据采集任务，系统提供各个网站及其各个数据类目等细致的菜单罗列，用户可以按照自己的需求去选择(可多选)数据进行采集

- [新建任务]()
- [当前任务]()
- [任务管理]()


### 函数

这儿的函数是用户自定义函数，实现特定的接口可被系统调用。该设计源于Hive与阿里云ODPS中的UDF设计理念，用户上传合格的UDF后，通过点击选择操作可对选中的数据进行该函数处理。实现数据质量改进函数的复用以及便携操作。

> [UDF](https://help.aliyun.com/document_detail/27866.html?spm=a2c4g.11174283.6.649.1e87590e4sXhdR): User Define Function 用户自定义函数
>
> [阿里云ODPS](https://help.aliyun.com/product/27797.html?spm=a2c4g.11186623.6.540.656643c09LyKUy)中: 用户可以自定义函数实现，然后通过SQL调用函数进行查询

- [注册函数]()
- [函数管理]()

### 数据

对于已存储的数据进行数据质量管理与优化，可利用之前上传的UDF对数据进行数据清洗，可以选择保留源数据的方式

- [数据管理]()
- [数据清洗]()
- [清洗日志]()


## 开发设计

根据之前的功能，主要分为三个模块进行支持：

- 数据采集
- 系统后端
- 系统前端

构建系统整体则还需要：

- 数据存储
- 模块通信

系统的用户群体为老师以及部分同学，考虑到可维护性，系统尽可能从简，减少因增加模块而产生的大量的维护成本，并且降低开发成本。

因此：
1. 数据存储为文件目录格式存储，减少数据库操作，便于安装与迁移
2. 用户信息采用嵌入式的LDAP服务存储
3. 数据采集对于未存储的数据才会进行采集，否则只是按照任务建立数据关联指针，对于数据按照LRU算法进行淘汰删除，以便节省磁盘空间
4. 后端与采集分别配置docker环境，方便部署

> LDAP: https://zh.wikipedia.org/wiki/%E8%BD%BB%E5%9E%8B%E7%9B%AE%E5%BD%95%E8%AE%BF%E9%97%AE%E5%8D%8F%E8%AE%AE

详细设计：

- 数据采集  
  - [x] 使用Python语言进行数据采集，支持多线程多进程
  - [x] 爬虫框架使用simple-spiders框架，不过需要增加日志功能
- 系统后端  
  - [ ] 采用SpringBoot框架进行快速开发后端服务
  - [ ] 需要支持用户校验
  - [ ] 后端接口须遵循Rest规范
- 系统前端 
  - [x] 前端体系采用React框架+AntDesign框架进行UI开发
  - [ ] 使用React、Redux-Sagas体系支持异步消息
- 数据存储 
  - [ ] 对于用户信息使用LDAP存储
  - [ ] 数据采用文件目录的方式进行存储
- 模块通信
  - [ ] 通信采用消息队列进行通信
  - [ ] 通信主要是：python采集层与后端服务层的相互通信

## 版权声明

本作品采用[CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by/4.0/deed.zh)为许可协议

> CC BY-NC-SA 4.0 : [知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议](https://creativecommons.org/licenses/by/4.0/deed.zh)

- 知识共享署名
    转载文章需要署名，可以用`对六`标识作者
- 非商业性使用
    您不得将本作品用于商业目的
- 相同方式共享
    如果您再混合、转换或者基于本作品进行创作， 您必须基于与原先许可协议相同的许可协议分发您贡献的作品

欢迎来信：[对六](pengrui55555@163.com)